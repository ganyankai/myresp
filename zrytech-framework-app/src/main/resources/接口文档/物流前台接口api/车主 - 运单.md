# 前台 - 运单 车主端接口 #

**作者：CAT**    

## 常量 ##

    1.类型    type
        装货：loading
        卸货：unload




<br><br><br>


## 1.车主及车主子账号 - 添加运单项 ##

**备注**

    1.一个运单项允许有多个装卸地
    2.运单项的数量必须等于装卸地数量之和


**URL**
>/font/waybill/addWaybillDetail

**请求参数**

    {
    	
    	"params":{                         // 运单基本信息
    		"waybillId": "1",             （必填）（int） 运单Id
    		"carId":"1",                  （必填）（int） 车辆Id
    		"driverId":"1",               （必填）（int） 司机Id
    		"supercargoId":"2",           （必填）（int） 压货人Id
    		"qty":"10",                   （必填）（int） 数量
    		"billLocations":[                 
    			{                            // 装卸地基本信息
    				"longitude":"1",        （必填）（str） 经度
    				"latitude":"1",         （必填）（str） 纬度
    				"province":"1",         （必填）（str） 省
    				"city":"1",             （必填）（str） 市
    				"county":"1",           （必填）（str） 县
    				"addressDetail":"1",    （必填）（str） 详细地址
    				"qty":"5",              （必填）（int） 数量
    				"type":"1",             （必填）（str） 装卸类型【装货：loading/卸货：unload】
    				"seqNo":"1",            （必填）（int） 编号
    				"remark":"1",           （必填）（str） 备注
    				"loadDate":"2019-2-12", （必填）（str） 装卸日期
    				"endDate":"2019-2-12"   （必填）（str） 截止日期
    			}
    		]
    	},
    	"token":""
    }

**响应示例**

    {
        "code": 1,
        "msg": "success",
        "data": "添加成功"
    }

<br><br><br>


## 2.车主及车主子账号 - 删除运单项（物理删除） ##

**备注**
    

**URL**
>/font/waybill/deleteWaybillDetail

**请求参数**

    {
    	"params": {
            "id": "1",                  （必填）（int） 运单项Id
    	},
    	"token": ""
	}

**响应示例**

    {
        "code": 1,
        "msg": "success",
        "data": "删除成功"
    }

<br><br><br>


## 3.车主及车主子账号 - 删除运单装卸地（物理删除） ##

**备注**
    

**URL**
>/font/waybill/deleteBillLocation

**请求参数**

    {
    	"params": {
            "id": "1",                  （必填）（int） 运单装卸地Id
    	},
    	"token": ""
	}

**响应示例**

    {
        "code": 1,
        "msg": "success",
        "data": "删除成功"
    }

<br><br><br>


## 4.车主及车主子账号 - 运单分页 ##

**备注**
    

**URL**
>/font/waybill/page

**请求参数**

    {
    	"params": {
            "status": "",               （选填）（str） 运单状态
            "createBy": ""              （选填）（int） 运单创建人
    	},
    	"token": ""
	}

**响应示例**

    {
        "code": 1,
        "msg": "success",
        "data": {
            "total": 2,
            "list": [
                {
                    "id": 2,
                    "billNo": "17155",
                    "cargoId": 1,
                    "cargo": null,
                    "cargoOwnnerId": 2,
                    "cargoOwnerName": "货主李四",           // 货主企业名称
                    "carOwnnerId": 1,
                    "createBy": null,
                    "carOwnerName": "车主张三",             // 车主企业名称
                    "advanceMoeny": 1,
                    "finalMoney": 1,
                    "totalMoney": 1,
                    "payType": "1",
                    "payTypeCN": null,
                    "payWay": "1",
                    "payWayCN": null,
                    "remark": "1",
                    "qty": 1,
                    "weightUnit": "1",
                    "billType": "1",
                    "billTypeCN": null,
                    "proofImgs": "1",
                    "status": "await_generate",
                    "statusCN": null,
                    "createDate": "2019-02-20 15:42:29",
                    "waybillDetails": null,
                    "evaluates": null
                }
            ],
            "pageNo": 1,
            "pageSize": 2
        }
    }

<br><br><br>


## 5.车主及车主子账号 - 运单详情 ##

**备注**
    

**URL**
>/font/waybill/details

**请求参数**

    {
    	"params": {
            "id": ""               （必填）（int） 运单Id
    	},
    	"token": ""
	}

**响应示例**

    {
        "code": 1,
        "msg": "success",
        "data": {
            "id": 1,
            "billNo": "12580",
            "cargoId": 1,
            "cargo": {                      【货源信息】
                "id": 1,
                "name": "jiawan",
                "logo": "1",
                "qty": 1,
                "weightUnit": "1",
                "weightUnitCN": null,
                "tenderWay": "1",
                "tenderWayCN": null,
                "payType": "1",
                "payTypeCN": null,
                "mulShipment": false,
                "mulShipmentList": null,
                "mulUnload": false,
                "mulUnloadList": null,
                "packaged": false,
                "matterPrice": 1,
                "realPrice": 1,
                "marketPrice": 1,
                "priceUnit": "1",
                "priceUnitCN": null,
                "priceType": "1",
                "priceTypeCN": null,
                "startProvince": "1",
                "startCity": "1",
                "startCountry": "1",
                "endProvince": "1",
                "endCity": "1",
                "endCountry": "1",
                "line": "1",
                "canShare": false,
                "carType": "1",
                "carTypeCN": null,
                "status": null,
                "statusCN": null,
                "arrivalDate": "2019-02-20 14:11:59",
                "pickupDate": "2019-02-20 14:11:57",
                "endDate": "2019-02-20 14:12:04",
                "remark": "1",
                "createBy": 1,
                "createDate": "2019-02-20 14:12:08"
            },
            "cargoOwnnerId": 2,
            "cargoOwnerName": "货主李四",
            "carOwnnerId": 1,
            "createBy": null,
            "carOwnerName": "车主张三",
            "advanceMoeny": 1,
            "finalMoney": 1,
            "totalMoney": 1,
            "payType": "1",
            "payTypeCN": null,
            "payWay": "1",
            "payWayCN": null,
            "remark": "1",
            "qty": 1,
            "weightUnit": "1",
            "billType": "1",
            "billTypeCN": null,
            "proofImgs": "1",
            "status": "await_generate",
            "statusCN": null,
            "createDate": "2019-02-20 15:42:18",
            "waybillDetails": [                             【运单项信息】
                {
                    "id": 1,
                    "billNo": "12580",
                    "carId": 1,
                    "driverId": 1,
                    "supercargoId": 1,
                    "qty": 1,
                    "weightUnit": "1",
                    "flowName": "1",
                    "createDate": "2019-02-20 15:43:26",
                    "billLocations": [                      【运单项的装卸地】
                        {
                            "id": 1,
                            "waybillDetailId": 1,
                            "waybillId": 1,
                            "longitude": 1,
                            "latitude": 1,
                            "province": "1",
                            "city": "1",
                            "county": "1",
                            "addressDetail": "1",
                            "qty": 1,
                            "weightUnit": "1",
                            "type": "1",
                            "seqNo": 1,
                            "remark": "1",
                            "loadDate": "2019-02-20 16:44:03",
                            "endDate": "2019-02-20 15:44:05",
                            "status": "1",
                            "createDate": "2019-02-20 15:44:08"
                        }
                    ]
                }
            ],
            "evaluates": []                                 【评论，暂无评论】
        }
    }


<br><br><br>